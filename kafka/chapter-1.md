---
description: 들어가며
---

# Chapter 1



> '아파치 카프카 애플리케이션 프로그래밍 with 자바 - 최원영' 통한 정리 및 실습

## 1.1 카프카의 탄생

![Before Kafka (https://bit.ly/3pIwdM8)](<../.gitbook/assets/image (10) (1).png>)

![After Kafka (https://bit.ly/3pIwdM8)](<../.gitbook/assets/image (12) (1).png>)

거대해진 아키텍처의 데이터 파이프라인이 복잡해지기 시작.

링크드인에서는 복잡도를 낮추기 위해 신규 시스템을 개발 -> Apache Kafka

![https://www.cloudkarafka.com/blog/2016-11-30-part1-kafka-for-beginners-what-is-apache-kafka.html](<../.gitbook/assets/image (14) (1).png>)

* 프로듀서(Producer) : 데이터를 생산 (push)
* 컨슈머(Consumer) : 데이터를 소비 (pull)

카프카 내부에 데이터가 저장되는 파티션의 동작은 FIFO 방식의 큐 자료구조와 유사.

카프카는 직렬화,역직렬화를 통해 ByteArray로 통신하기 때문에 데이터 포맷은 제한이 없다.

## 1.2 빅데이터 파이프라인에서 카프카의 역할

* 데이터 레이크(data lake) : **필터링 되거나 패키지화가 되지 않은** 데이터가 모이는 저장 공간.
* 데이터 파이프라 인 : end-to-end를 개선하고 유연하면서 확장가능하게 자동화한 것

데이터를 data lake로 모으기 위해서는 복잡도가 올라가는 end-to-end 방식은 문제가 발생한다. 이에 데이터 파이프 라인을 구축해야 하는데 아파치 카프카가 매우 적합하다.

#### 높은 처리량

* 데이터 배치 처리를 통해 네트워크 통신 횟수를 최소한으로 줄인다. (실시간 로그 데이터 처리에 적합)
* 파티션 단위를 통해 데이터 병렬 처리가 가능. (시간당 데이터 처리량 ↑)

#### 확장성

* 브로커 개수의 스케일 아웃(scale-out), 스케일 인(scale-in)

#### 영속성

* 페이지 캐시 메모리 영역을 사용.
* 한번 읽은 파일 내용을 메모리에 저장 시켰다가 다시 사용하는 방식
* 파일 시스템을 활용한 덕분에 프로세스 재시작에도 영속성이 보장.

#### 고가용성

## 1.3 데이터 레이크 아키텍처와 카프카의 미래

데이터 레이크를 구성하는 람다 아키텍처와 카파 아키텍처가 존재. 해당 아키텍처들의 구성 중 하나인 스피드 레이어는 내결함성과 장애허용 특징을 지녀야한다. 이에 카프카가 완벽히 부합한다.

* SPOF : 전체 시스템의 작동을 멈춰 버리는 한 부분 (ex: router)
* 내결함성 : 진행 중이던 작업이나 데이터가 돌발 상황에 손상되지 않도록 대비.
* 장애 허용 : 결함 or 고장 발생 시에도 정상적 혹은 부분적으로 기능을 수행 가능한 것.
